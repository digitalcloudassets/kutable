/* Mobile-first full-bleed surfaces + nested-card flattening across ALL authed app pages. */

:root { --app-gap: 16px; --app-radius: 20px; }

/* Make site "container" go edge-to-edge on phones ONLY when in app-shell */
body.app-shell .container {
  max-width: 100% !important;
  padding-left: var(--app-gap);
  padding-right: var(--app-gap);
}
@media (min-width: 768px) {
  body.app-shell .container {
    max-width: 720px !important;
    padding-left: 0; padding-right: 0;
  }
}

/* Generic surface (matches your rounded-3xl border bg-white cards)  */
body.app-shell .app-surface,
body.app-shell .rounded-3xl.border.bg-white {
  background: #fff;
  border: 1px solid rgba(0,0,0,0.06);
  border-radius: var(--app-radius);
  box-shadow: 0 1px 2px rgba(0,0,0,0.04);
}

/* Full-bleed sections on phones: connect to screen edges */
@media (max-width: 767px) {
  body.app-shell .app-bleed,
  body.app-shell .rounded-3xl.border.bg-white.app-bleed {
    margin-left: calc(-1 * var(--app-gap));
    margin-right: calc(-1 * var(--app-gap));
    border-radius: 0;
  }
}

/* FLATTEN NESTED CARDS (your "app shell inside app shell" in Messages, etc.) */
@media (max-width: 767px) {
  body.app-shell .app-bleed .app-bleed,
  body.app-shell .app-bleed .rounded-3xl.border.bg-white.app-bleed {
    margin-left: 0;
    margin-right: 0;
    border-radius: var(--app-radius);
  }
  /* If you have card-in-card, soften inner cards so it feels like one connected surface */
  body.app-shell .app-bleed .rounded-3xl.border.bg-white {
    border-left: 0; border-right: 0; border-radius: 0;
  }
}

/* Spacing rhythm for headings/lists inside sections (less cramped) */
body.app-shell .app-pad { padding: 16px; }
body.app-shell .app-pad-lg { padding: 20px; }
body.app-shell .app-stack > * + * { margin-top: 16px; }

/* List separation that looks native */
body.app-shell .app-list > * + * { border-top: 1px solid rgba(0,0,0,0.06); }
body.app-shell .app-item { padding: 14px 16px; }

/* Safe area so content never hides behind the bottom tab bar */
body.app-shell { padding-bottom: calc(72px + env(safe-area-inset-bottom)); }